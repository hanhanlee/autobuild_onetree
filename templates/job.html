<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Job {{ job.id }}</title>
    <style>
        body { font-family: sans-serif; margin: 2rem; }
        #log-output { background: #111; color: #eee; padding: 1rem; min-height: 300px; white-space: pre-wrap; }
        #artifact-list { list-style: none; padding: 0; }
        #artifact-list li { margin: 0.25rem 0; }
    </style>
</head>
<body>
    <h1>Job {{ job.id }}</h1>
    <p><a href="/new">New job</a></p>
    <div id="job" data-job-id="{{ job.id }}">
        <p>Status: <span id="job-status">{{ job.status }}</span></p>
        <p>Owner: {{ job.owner }}</p>
        <p>Repo: {{ job.repo_url }} @ {{ job.ref }}</p>
        <p>Machine: {{ job.machine }} / Target: {{ job.target }}</p>
        <p>Created: {{ job.created_at }}{% if job.started_at %}, Started: {{ job.started_at }}{% endif %}{% if job.finished_at %}, Finished: {{ job.finished_at }}{% endif %}</p>
    </div>

    <h2>Logs</h2>
    <pre id="log-output"></pre>

    <h2>Artifacts</h2>
    <ul id="artifact-list">
        {% for item in artifacts.values() %}
            <li><a href="/api/jobs/{{ job.id }}/artifacts/{{ item.name }}">{{ item.name }}</a> ({{ item.size }} bytes)</li>
        {% else %}
            <li>No artifacts yet.</li>
        {% endfor %}
    </ul>

    <script src="/static/app.js"></script>
</body>
</html>
